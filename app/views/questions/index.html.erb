<p id="notice"><%= notice %></p>

<h1>Questions</h1>

<h4> <%= link_to "Pending", questions_path(question_status: "Pending") %> | <%= link_to "Approved", questions_path(question_status: "Approved") %> | <%= link_to "Denied", questions_path(question_status: "Denied") %> </h4>

<table>
  <thead>
    <tr>
      <th>Content</th>
      <th>Source</th>
      <th>Year</th>
      <th>Question status</th>
      <th>User</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @questions.each do |question| %>
      <tr>
        <td><%= question.content %></td>
        <td><%= question.source %></td>
        <td><%= question.year %></td>
        <td><%= question.question_status %></td>
        <td><%= question.user %></td>
        <td><%= link_to 'Show', question %></td>
        <% if current_user.client? && question.question_status.name == "Denied" %>
          <td><%= link_to 'Edit', edit_question_path(question) %></td>
        <% elsif can? :evaluate_question, RevisionHistory %>
          <td><%= link_to 'Evaluate', question_evaluate_question_path(question) %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<% if can? :create, Question %>

  <%= link_to 'New Question', new_question_path %>

<% end %>